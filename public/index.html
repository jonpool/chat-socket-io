<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">

<head id="_ctl0_Head1"><meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Inforprize.com</title>
        <meta name="keywords" content="Homepage, free homepage, create website, create free homepage, website, websites, make website, make free website, how to make homepage, how to make a homepage, blog, free blog, make a blog, make free blog, web design, web hotel, business website, business homepages, hobby website, family website, family homepage, pet website, pet homepage, homepage builder" />
        <meta name="description" content="Fast and easy - the most popular online website builder in the world, with no ads and your own domain name. Try SimpleSite.com completely free now!" />
        <meta name="google" content="notranslate" />
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
        <meta http-equiv="imagetoolbar" content="no" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
        <link rel="stylesheet" href="styles.css">
</head>
<body>
  <form id="chat">
    <input type="text" name="username" placeholder="Digite Seu Usuario">
    <div class="messages"></div>
    <input type="text" name="message" placeholder="Digite Sua Mensagem">
    <button type="submit">Enviar</button>
  </form>
  <script type="text/javascript">
  var socket = io('http://localhost:3000');
  
  function renderMessage(message){
    $('.messages').append('<div class="message"><strong>'+ message.author +'</strong>: ' + message.message +'<div>');
  }

  socket.on('receivedMessage', function(message){
    renderMessage(message);
  });

  $('#chat').submit(function(event){
    event.preventDefault();

    var author = $('input[name=username]').val();
    var message = $('input[name=message]').val();
    
    if (author.length && message.length) {

      var messageObject ={
        author:author,
        message:message,
      };

      renderMessage(messageObject);
      socket.emit("sendMessage", messageObject);
    }
  })
  </script>
</body>
</html>